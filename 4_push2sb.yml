target_default: 4_push2sb

packages:
  - dssecrets
  - sbtools
  - yaml

sources:
  - 4_push2sb/src/sb_utils.R

targets:
  4_push2sb:
    depends:
      - toha_pgdl
      - toha_pb0
      - annual_metrics_pgdl
      - annual_metrics_pb0

  ### Push TOHA & annual metrics files for MN Data release ###
  
  sb_id_mnrelease:
    command: c(I('5e774355e4b01d509270e2a1'))
  
  toha_pgdl:
    command: sb_replace_files(
      sb_id = sb_id_mnrelease, 
      file_hash = '3_summarize/out/3_summarize_zip_pgdl_toha.yml',
      sources = '4_push2sb/src/sb_utils.R')
  
  toha_pb0:
    command: sb_replace_files(
      sb_id = sb_id_mnrelease, 
      file_hash = '3_summarize/out/3_summarize_zip_pb0_toha.yml',
      sources = '4_push2sb/src/sb_utils.R')
  
  annual_metrics_pgdl:
    command: sb_replace_files(
      sb_id = sb_id_mnrelease, 
      '3_summarize/out/annual_metrics_pgdl.csv',
      sources = '4_push2sb/src/sb_utils.R')
  
  annual_metrics_pb0:
    command: sb_replace_files(
      sb_id = sb_id_mnrelease, 
      '3_summarize/out/annual_metrics_pb0.csv',
      sources = '4_push2sb/src/sb_utils.R')
